<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: unique</title>
<link href="../css/auto-v0.7.5.css" rel="stylesheet">
<script src="../jvs/golds-v0.7.5.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>unique</b></span>

<span class="title">Import Path</span>
	<a href="../index.html#pkg-unique">unique</a><i> (on <a href="https://pkg.go.dev/unique" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../dep/unique.html">7 packages</a>, and imported by <a href="../dep/unique.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<span class="nodocs">    <a href="../src/unique/clone.go.html">clone.go</a></span>
	<input type='checkbox' checked class="fold" id="file-1-fold-content"><label for="file-1-fold-content">  <a href="../src/unique/doc.go.html#doc">d</a> <a href="../src/unique/doc.go.html">doc.go</a></label><span id='file-1-fold-content-items' class="fold-items">
<span class="md-text">		The unique package provides facilities for canonicalizing ("interning")
		comparable values.</span>
</span>
	<span class="nodocs">    <a href="../src/unique/handle.go.html">handle.go</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 3, in which 1 is exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Handle" data-popularity="140">	<input type='checkbox' class="fold" id="Handle-fold-content"><label for="Handle-fold-content"> type <a href="../src/unique/handle.go.html#line-21">Handle</a>[T] <i>(struct)</i></label><span id='Handle-fold-content-docs' class="fold-docs">

		Type Parameters:
			T: <a href="builtin.html#name-comparable">comparable</a>

<span class="md-text">		Handle is a globally unique identity for some value of type T.
		
		Two handles compare equal exactly if the two values used to create the handles
		would have also compared equal. The comparison of two handles is trivial and
		typically much more efficient than comparing the values used to create them.</span>

		<input type='checkbox' class="fold" id="Handle-fold-fields"><label for="Handle-fold-fields">Fields (<i>only one, which is unexported</i>)</label><span id='Handle-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Handle-showhide-fields"><i><label for="Handle-showhide-fields" class="show-inline">/* one unexported ... */</label><label for="Handle-showhide-fields" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../src/unique/handle.go.html#line-22">value</a> <i>*T</i></span></i></span></span>
		<input type='checkbox' class="fold" id="Handle-fold-methods"><label for="Handle-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='Handle-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Handle-fold-method-Value"><label for="Handle-fold-method-Value">( Handle[T]) <a href="../src/unique/handle.go.html#line-26">Value</a>() T</label><span id='Handle-fold-method-Value-docs' class="fold-docs">
<span class="md-text">				Value returns a shallow copy of the T value that produced the Handle.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Handle-fold-results"><label for="Handle-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Handle-fold-results-items' class="fold-items"><span>
			func <a href="#name-Make">Make</a>[T](value T) <b>Handle</b>[T]</span></span>
		<input type='checkbox' class="fold" id="Handle-fold-values"><label for="Handle-fold-values">As Types Of (<i>total 3, none are exported</i>)</label><span id='Handle-fold-values-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Handle-showhide-values"><i><label for="Handle-showhide-values" class="show-inline">/* 3 unexporteds ... */</label><label for="Handle-showhide-values" class="hide-inline">/* 3 unexporteds: */</label></i><span class="hidden"><i>
			  var net/netip.<a href="net/netip.html#name-z0">z0</a> <a href="">unique</a>.<b><a href="#name-Handle">Handle</a></b>[<a href="net/netip.html#name-addrDetail">addrDetail</a>]</i></span><span class="hidden"><i>
			  var net/netip.<a href="net/netip.html#name-z4">z4</a> <a href="">unique</a>.<a href="#name-Handle">Handle</a>[...]</i></span><span class="hidden"><i>
			  var net/netip.<a href="net/netip.html#name-z6noz">z6noz</a> <a href="">unique</a>.<a href="#name-Handle">Handle</a>[...]</i></span></span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* 2 unexporteds ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* 2 unexporteds: */</label></i><div class="anchor type-res hidden" id="name-cloneSeq" data-popularity="185">	<input type='checkbox' class="fold" id="cloneSeq-fold-content"><label for="cloneSeq-fold-content"> type <a href="../src/unique/clone.go.html#line-33">cloneSeq</a> <i>(struct)</i></label><span id='cloneSeq-fold-content-docs' class="fold-docs">
<span class="md-text">		cloneSeq describes how to clone a value of a particular type.</span>

		<input type='checkbox' class="fold" id="cloneSeq-fold-fields"><label for="cloneSeq-fold-fields">Fields (<i>only one, which is unexported</i>)</label><span id='cloneSeq-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="cloneSeq-showhide-fields"><i><label for="cloneSeq-showhide-fields" class="show-inline">/* one unexported ... */</label><label for="cloneSeq-showhide-fields" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../src/unique/clone.go.html#line-34">stringOffsets</a> <i>[]<a href="builtin.html#name-uintptr">uintptr</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="cloneSeq-fold-results"><label for="cloneSeq-fold-results">As Outputs Of (<i>at least one unexported</i>)</label><span id='cloneSeq-fold-results-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="cloneSeq-showhide-inputofs"><i><label for="cloneSeq-showhide-inputofs" class="show-inline">/* at least one unexported ... */</label><label for="cloneSeq-showhide-inputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func <a href="#name-makeCloneSeq">makeCloneSeq</a>(typ *<a href="internal/abi.html">abi</a>.<a href="internal/abi.html#name-Type">Type</a>) <b>cloneSeq</b></i></span></span>
		<input type='checkbox' class="fold" id="cloneSeq-fold-params"><label for="cloneSeq-fold-params">As Inputs Of (<i>at least 3, none are exported</i>)</label><span id='cloneSeq-fold-params-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="cloneSeq-showhide-outputofs"><i><label for="cloneSeq-showhide-outputofs" class="show-inline">/* 3+ unexporteds ... */</label><label for="cloneSeq-showhide-outputofs" class="hide-inline">/* 3+ unexporteds: */</label></i><span class="hidden"><i>
			func <a href="#name-buildArrayCloneSeq">buildArrayCloneSeq</a>(typ *<a href="internal/abi.html">abi</a>.<a href="internal/abi.html#name-Type">Type</a>, seq *<b>cloneSeq</b>, baseOffset <a href="builtin.html#name-uintptr">uintptr</a>)</i></span><span class="hidden"><i>
			func <a href="#name-buildStructCloneSeq">buildStructCloneSeq</a>(typ *<a href="internal/abi.html">abi</a>.<a href="internal/abi.html#name-Type">Type</a>, seq *<b>cloneSeq</b>, baseOffset <a href="builtin.html#name-uintptr">uintptr</a>)</i></span><span class="hidden"><i>
			func <a href="#name-clone">clone</a>[T](value T, seq *<b>cloneSeq</b>) T</i></span></span>
		<input type='checkbox' class="fold" id="cloneSeq-fold-values"><label for="cloneSeq-fold-values">As Types Of (<i>only one, which is unexported</i>)</label><span id='cloneSeq-fold-values-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="cloneSeq-showhide-values"><i><label for="cloneSeq-showhide-values" class="show-inline">/* one unexported ... */</label><label for="cloneSeq-showhide-values" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			  var <a href="#name-singleStringClone">singleStringClone</a></i></span></span>

</span></div><div class="anchor type-res hidden" id="name-uniqueMap" data-popularity="375">	<input type='checkbox' class="fold" id="uniqueMap-fold-content"><label for="uniqueMap-fold-content"> type <a href="../src/unique/handle.go.html#line-109">uniqueMap</a>[T] <i>(struct)</i></label><span id='uniqueMap-fold-content-docs' class="fold-docs">

		Type Parameters:
			T: <a href="builtin.html#name-comparable">comparable</a>

		<input type='checkbox' class="fold" id="uniqueMap-fold-fields"><label for="uniqueMap-fold-fields">Fields (<i>total 8, in which 1 is exported</i>)</label><span id='uniqueMap-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../src/unique/handle.go.html#line-110">HashTrieMap</a> <i>*<a href="internal/concurrent.html">concurrent</a>.<a href="internal/concurrent.html#name-HashTrieMap">HashTrieMap</a>[T, <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T]]</i></span></span>
			<input type='checkbox' checked class="showhide" id="uniqueMap-showhide-fields"><i><label for="uniqueMap-showhide-fields" class="show-inline">/* 7 unexporteds ... */</label><label for="uniqueMap-showhide-fields" class="hide-inline">/* 7 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../src/unique/handle.go.html#line-111">cloneSeq</a> <i><a href="#name-cloneSeq">cloneSeq</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../src/unique/handle.go.html#line-111" class="path-duplicate">cloneSeq</a>.<a href="../src/unique/clone.go.html#line-34">stringOffsets</a> <i>[]<a href="builtin.html#name-uintptr">uintptr</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../src/unique/handle.go.html#line-110">HashTrieMap</a>.<a href="../src/internal/concurrent/hashtriemap.go.html#line-23">keyEqual</a> <i><a href="internal/concurrent.html">concurrent</a>.<a href="internal/concurrent.html#name-equalFunc">equalFunc</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../src/unique/handle.go.html#line-110" class="path-duplicate">HashTrieMap</a>.<a href="../src/internal/concurrent/hashtriemap.go.html#line-22">keyHash</a> <i><a href="internal/concurrent.html">concurrent</a>.<a href="internal/concurrent.html#name-hashFunc">hashFunc</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../src/unique/handle.go.html#line-110" class="path-duplicate">HashTrieMap</a>.<a href="../src/internal/concurrent/hashtriemap.go.html#line-21">root</a> <i>*<a href="internal/concurrent.html">concurrent</a>.<a href="internal/concurrent.html#name-indirect">indirect</a>[T, <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T]]</i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../src/unique/handle.go.html#line-110" class="path-duplicate">HashTrieMap</a>.<a href="../src/internal/concurrent/hashtriemap.go.html#line-25">seed</a> <i><a href="builtin.html#name-uintptr">uintptr</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../src/unique/handle.go.html#line-110" class="path-duplicate">HashTrieMap</a>.<a href="../src/internal/concurrent/hashtriemap.go.html#line-24">valEqual</a> <i><a href="internal/concurrent.html">concurrent</a>.<a href="internal/concurrent.html#name-equalFunc">equalFunc</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="uniqueMap-fold-methods"><label for="uniqueMap-fold-methods">Methods (<i>total 6, in which 4 are exported</i>)</label><span id='uniqueMap-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="uniqueMap-fold-method-All"><label for="uniqueMap-fold-method-All">( uniqueMap[K, V]) <a href="../src/internal/concurrent/hashtriemap.go.html#line-278">All</a>() func(yield func(T, <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T]) <a href="builtin.html#name-bool">bool</a>)</label><span id='uniqueMap-fold-method-All-docs' class="fold-docs">
<span class="md-text">				All returns an iter.Seq2 that produces all key-value pairs in the map.
				The enumeration does not represent any consistent snapshot of the map,
				but is guaranteed to visit each unique key-value pair only once. It is
				safe to operate on the tree during iteration. No particular enumeration
				order is guaranteed.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="uniqueMap-fold-method-CompareAndDelete"><label for="uniqueMap-fold-method-CompareAndDelete">( uniqueMap[K, V]) <a href="../src/internal/concurrent/hashtriemap.go.html#line-184">CompareAndDelete</a>(key T, old <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T]) (deleted <a href="builtin.html#name-bool">bool</a>)</label><span id='uniqueMap-fold-method-CompareAndDelete-docs' class="fold-docs">
<span class="md-text">				CompareAndDelete deletes the entry for key if its value is equal to old.
				
				If there is no current value for key in the map, CompareAndDelete returns false
				(even if the old value is the nil interface value).</span>
</span></span><span>
			<input type='checkbox' class="fold" id="uniqueMap-fold-method-Load"><label for="uniqueMap-fold-method-Load">( uniqueMap[K, V]) <a href="../src/internal/concurrent/hashtriemap.go.html#line-48">Load</a>(key T) (value <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T], ok <a href="builtin.html#name-bool">bool</a>)</label><span id='uniqueMap-fold-method-Load-docs' class="fold-docs">
<span class="md-text">				Load returns the value stored in the map for a key, or nil if no
				value is present.
				The ok result indicates whether value was found in the map.</span>
</span></span><span>
			<input type='checkbox' class="fold" id="uniqueMap-fold-method-LoadOrStore"><label for="uniqueMap-fold-method-LoadOrStore">( uniqueMap[K, V]) <a href="../src/internal/concurrent/hashtriemap.go.html#line-71">LoadOrStore</a>(key T, value <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T]) (result <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T], loaded <a href="builtin.html#name-bool">bool</a>)</label><span id='uniqueMap-fold-method-LoadOrStore-docs' class="fold-docs">
<span class="md-text">				LoadOrStore returns the existing value for the key if present.
				Otherwise, it stores and returns the given value.
				The loaded result is true if the value was loaded, false if stored.</span>
</span></span>
			<input type='checkbox' checked class="showhide" id="uniqueMap-showhide-methods"><i><label for="uniqueMap-showhide-methods" class="show-inline">/* 2 unexporteds ... */</label><label for="uniqueMap-showhide-methods" class="hide-inline">/* 2 unexporteds: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="uniqueMap-fold-method-expand"><label for="uniqueMap-fold-method-expand">( uniqueMap[K, V]) <a href="../src/internal/concurrent/hashtriemap.go.html#line-149">expand</a>(oldEntry, newEntry *<a href="internal/concurrent.html">concurrent</a>.<a href="internal/concurrent.html#name-entry">entry</a>[T, <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T]], newHash <a href="builtin.html#name-uintptr">uintptr</a>, hashShift <a href="builtin.html#name-uint">uint</a>, parent *<a href="internal/concurrent.html">concurrent</a>.<a href="internal/concurrent.html#name-indirect">indirect</a>[T, <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T]]) *<a href="internal/concurrent.html">concurrent</a>.<a href="internal/concurrent.html#name-node">node</a>[T, <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T]]</label><span id='uniqueMap-fold-method-expand-docs' class="fold-docs">
<span class="md-text">				expand takes oldEntry and newEntry whose hashes conflict from bit 64 down to hashShift and
				produces a subtree of indirect nodes to hold the two new entries.</span>
</span></i></span><span class="hidden"><i>
			<span class="nodocs">( uniqueMap[K, V]) <a href="../src/internal/concurrent/hashtriemap.go.html#line-284">iter</a>(i *<a href="internal/concurrent.html">concurrent</a>.<a href="internal/concurrent.html#name-indirect">indirect</a>[T, <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T]], yield func(key T, value <a href="internal/weak.html">weak</a>.<a href="internal/weak.html#name-Pointer">Pointer</a>[T]) <a href="builtin.html#name-bool">bool</a>) <a href="builtin.html#name-bool">bool</a></span></i></span></span>
		<input type='checkbox' class="fold" id="uniqueMap-fold-results"><label for="uniqueMap-fold-results">As Outputs Of (<i>at least one unexported</i>)</label><span id='uniqueMap-fold-results-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="uniqueMap-showhide-inputofs"><i><label for="uniqueMap-showhide-inputofs" class="show-inline">/* at least one unexported ... */</label><label for="uniqueMap-showhide-inputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func <a href="#name-addUniqueMap">addUniqueMap</a>[T](typ *<a href="internal/abi.html">abi</a>.<a href="internal/abi.html#name-Type">Type</a>) *<b>uniqueMap</b>[T]</i></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 8, in which 1 is exported)</i></span></span>

<div class="anchor value-res" id="name-Make">	<input type='checkbox' class="fold" id="Make-fold-content"><label for="Make-fold-content"> func <a href="../src/unique/handle.go.html#line-32">Make</a>[T](value T) <a href="#name-Handle">Handle</a>[T]</label><span id='Make-fold-content-docs' class="fold-docs">

		Type Parameters:
			T: <a href="builtin.html#name-comparable">comparable</a>

<span class="md-text">		Make returns a globally unique handle for a value of type T. Handles
		are equal if and only if the values used to produce them are equal.</span>

</span></div>	<input type='checkbox' class="showhide" id="unexported-functions-showhide"><i><label for="unexported-functions-showhide" class="show-inline">/* 7 unexporteds ... */</label><label for="unexported-functions-showhide" class="hide-inline">/* 7 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-addUniqueMap"><i>	<input type='checkbox' class="fold" id="addUniqueMap-fold-content"><label for="addUniqueMap-fold-content"> func <a href="../src/unique/handle.go.html#line-114">addUniqueMap</a>[T](typ *<a href="internal/abi.html">abi</a>.<a href="internal/abi.html#name-Type">Type</a>) *<a href="#name-uniqueMap">uniqueMap</a>[T]</label><span id='addUniqueMap-fold-content-docs' class="fold-docs">

		Type Parameters:
			T: <a href="builtin.html#name-comparable">comparable</a>

</span></i></div><div class="anchor value-res hidden" id="name-buildArrayCloneSeq"><i>	<input type='checkbox' class="fold" id="buildArrayCloneSeq-fold-content"><label for="buildArrayCloneSeq-fold-content"> func <a href="../src/unique/clone.go.html#line-72">buildArrayCloneSeq</a>(typ *<a href="internal/abi.html">abi</a>.<a href="internal/abi.html#name-Type">Type</a>, seq *<a href="#name-cloneSeq">cloneSeq</a>, baseOffset <a href="builtin.html#name-uintptr">uintptr</a>)</label><span id='buildArrayCloneSeq-fold-content-docs' class="fold-docs">
<span class="md-text">		buildArrayCloneSeq populates a cloneSeq for an abi.Type that has Kind abi.Array.</span>

</span></i></div><div class="anchor value-res hidden" id="name-buildStructCloneSeq"><i>	<input type='checkbox' class="fold" id="buildStructCloneSeq-fold-content"><label for="buildStructCloneSeq-fold-content"> func <a href="../src/unique/clone.go.html#line-56">buildStructCloneSeq</a>(typ *<a href="internal/abi.html">abi</a>.<a href="internal/abi.html#name-Type">Type</a>, seq *<a href="#name-cloneSeq">cloneSeq</a>, baseOffset <a href="builtin.html#name-uintptr">uintptr</a>)</label><span id='buildStructCloneSeq-fold-content-docs' class="fold-docs">
<span class="md-text">		buildStructCloneSeq populates a cloneSeq for an abi.Type that has Kind abi.Struct.</span>

</span></i></div><div class="anchor value-res hidden" id="name-clone"><i>	<input type='checkbox' class="fold" id="clone-fold-content"><label for="clone-fold-content"> func <a href="../src/unique/clone.go.html#line-21">clone</a>[T](value T, seq *<a href="#name-cloneSeq">cloneSeq</a>) T</label><span id='clone-fold-content-docs' class="fold-docs">

		Type Parameters:
			T: <a href="builtin.html#name-comparable">comparable</a>

<span class="md-text">		clone makes a copy of value, and may update string values found in value
		with a cloned version of those strings. The purpose of explicitly cloning
		strings is to avoid accidentally giving a large string a long lifetime.
		
		Note that this will clone strings in structs and arrays found in value,
		and will clone value if it itself is a string. It will not, however, clone
		strings if value is of interface or slice type (that is, found via an
		indirection).</span>

</span></i></div><div class="anchor value-res hidden" id="name-makeCloneSeq"><i>	<input type='checkbox' class="fold" id="makeCloneSeq-fold-content"><label for="makeCloneSeq-fold-content"> func <a href="../src/unique/clone.go.html#line-38">makeCloneSeq</a>(typ *<a href="internal/abi.html">abi</a>.<a href="internal/abi.html#name-Type">Type</a>) <a href="#name-cloneSeq">cloneSeq</a></label><span id='makeCloneSeq-fold-content-docs' class="fold-docs">
<span class="md-text">		makeCloneSeq creates a cloneSeq for a type.</span>

</span></i></div><div class="anchor value-res hidden" id="name-registerCleanup"><i>	<input type='checkbox' class="fold" id="registerCleanup-fold-content"><label for="registerCleanup-fold-content"> func <a href="../src/unique/handle.go.html#line-146">registerCleanup</a>()</label><span id='registerCleanup-fold-content-docs' class="fold-docs">
<span class="md-text">		startBackgroundCleanup sets up a background goroutine to occasionally call cleanupFuncs.</span>

</span></i></div><div class="anchor value-res hidden" id="name-runtime_registerUniqueMapCleanup"><i>	<span class="nodocs"> func <a href="../src/unique/handle.go.html#line-175">runtime_registerUniqueMapCleanup</a>(cleanup func())</span></i></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (total 7, none are exported)</i></span></span>

	<input type='checkbox' class="showhide" id="unexported-variables-showhide"><i><label for="unexported-variables-showhide" class="show-inline">/* 7 unexporteds ... */</label><label for="unexported-variables-showhide" class="hide-inline">/* 7 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-cleanupFuncs"><i>	<span class="nodocs">  var <a href="../src/unique/handle.go.html#line-105">cleanupFuncs</a> []func()</span></i></div><div class="anchor value-res hidden" id="name-cleanupFuncsMu"><i>	<span class="nodocs">  var <a href="../src/unique/handle.go.html#line-104">cleanupFuncsMu</a> <a href="sync.html">sync</a>.<a href="sync.html#name-Mutex">Mutex</a></span></i></div><div class="anchor value-res hidden" id="name-cleanupMu"><i>	<input type='checkbox' class="fold" id="cleanupMu-fold-content"><label for="cleanupMu-fold-content">  var <a href="../src/unique/handle.go.html#line-103">cleanupMu</a> <a href="sync.html">sync</a>.<a href="sync.html#name-Mutex">Mutex</a></label><span id='cleanupMu-fold-content-docs' class="fold-docs">
<span class="md-text">		cleanupFuncs are functions that clean up dead weak pointers in type-specific
		maps in uniqueMaps. We express cleanup this way because there's no way to iterate
		over the sync.Map and call functions on the type-specific data structures otherwise.
		These cleanup funcs each close over one of these type-specific maps.
		
		cleanupMu protects cleanupNotify and is held across the entire cleanup. Used for testing.
		cleanupNotify is a test-only mechanism that allow tests to wait for the cleanup to run.</span>

</span></i></div><div class="anchor value-res hidden" id="name-cleanupNotify"><i>	<span class="nodocs">  var <a href="../src/unique/handle.go.html#line-106">cleanupNotify</a> []func() // <span class="md-text">One-time notifications when cleanups finish.</span></span></i></div><div class="anchor value-res hidden" id="name-setupMake"><i>	<input type='checkbox' class="fold" id="setupMake-fold-content"><label for="setupMake-fold-content">  var <a href="../src/unique/handle.go.html#line-143">setupMake</a> <a href="sync.html">sync</a>.<a href="sync.html#name-Once">Once</a></label><span id='setupMake-fold-content-docs' class="fold-docs">
<span class="md-text">		setupMake is used to perform initial setup for unique.Make.</span>

</span></i></div><div class="anchor value-res hidden" id="name-singleStringClone"><i>	<input type='checkbox' class="fold" id="singleStringClone-fold-content"><label for="singleStringClone-fold-content">  var <a href="../src/unique/clone.go.html#line-30">singleStringClone</a> <a href="#name-cloneSeq">cloneSeq</a></label><span id='singleStringClone-fold-content-docs' class="fold-docs">
<span class="md-text">		singleStringClone describes how to clone a single string.</span>

</span></i></div><div class="anchor value-res hidden" id="name-uniqueMaps"><i>	<input type='checkbox' class="fold" id="uniqueMaps-fold-content"><label for="uniqueMaps-fold-content">  var <a href="../src/unique/handle.go.html#line-94">uniqueMaps</a> *<a href="internal/concurrent.html">concurrent</a>.<a href="internal/concurrent.html#name-HashTrieMap">HashTrieMap</a>[...] // <span class="md-text">any is always a *uniqueMap[T].</span></label><span id='uniqueMaps-fold-content-docs' class="fold-docs">
<span class="md-text">		uniqueMaps is an index of type-specific concurrent maps used for unique.Make.
		
		The two-level map might seem odd at first since the HashTrieMap could have "any"
		as its key type, but the issue is escape analysis. We do not want to force lookups
		to escape the argument, and using a type-specific map allows us to avoid that where
		possible (for example, for strings and plain-ol'-data structs). We also get the
		benefit of not cramming every different type into a single map, but that's certainly
		not enough to outweigh the cost of two map lookups. What is worth it though, is saving
		on those allocations.</span>

</span></i></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../png/zigo101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.5</i>. (GOOS=windows GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/zigo_101">@zigo_101</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>