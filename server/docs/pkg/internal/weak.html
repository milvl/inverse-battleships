<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: internal/weak</title>
<link href="../../css/auto-v0.7.5.css" rel="stylesheet">
<script src="../../jvs/golds-v0.7.5.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>weak</b></span>

<span class="title">Import Path</span>
	<a href="../../index.html#pkg-internal/weak">internal/weak</a><i> (on <a href="https://pkg.go.dev/internal/weak" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../dep/internal/weak.html">3 packages</a>, and imported by <a href="../../dep/internal/weak.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<input type='checkbox' checked class="fold" id="file-0-fold-content"><label for="file-0-fold-content">  <a href="../../src/internal/weak/pointer.go.html#doc">d</a> <a href="../../src/internal/weak/pointer.go.html">pointer.go</a></label><span id='file-0-fold-content-items' class="fold-items">
<span class="md-text">		The weak package is a package for managing weak pointers.
		
		Weak pointers are pointers that explicitly do not keep a value live and
		must be queried for a regular Go pointer.
		The result of such a query may be observed as nil at any point after a
		weakly-pointed-to object becomes eligible for reclamation by the garbage
		collector.
		More specifically, weak pointers become nil as soon as the garbage collector
		identifies that the object is unreachable, before it is made reachable
		again by a finalizer.
		In terms of the C# language, these semantics are roughly equivalent to the
		the semantics of "short" weak references.
		In terms of the Java language, these semantics are roughly equivalent to the
		semantics of the WeakReference type.
		
		Using go:linkname to access this package and the functions it references
		is explicitly forbidden by the toolchain because the semantics of this
		package have not gone through the proposal process. By exposing this
		functionality, we risk locking in the existing semantics due to Hyrum's Law.
		
		If you believe you have a good use-case for weak references not already
		covered by the standard library, file a proposal issue at
		https://github.com/golang/go/issues instead of relying on this package.</span></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (only one, which is exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Pointer" data-popularity="125">	<input type='checkbox' class="fold" id="Pointer-fold-content"><label for="Pointer-fold-content"> type <a href="../../src/internal/weak/pointer.go.html#line-51">Pointer</a>[T] <i>(struct)</i></label><span id='Pointer-fold-content-docs' class="fold-docs">

		Type Parameters:
			T: <a href="../builtin.html#name-any">any</a>

<span class="md-text">		Pointer is a weak pointer to a value of type T.
		
		This value is comparable is guaranteed to compare equal if the pointers
		that they were created from compare equal. This property is retained even
		after the object referenced by the pointer used to create a weak reference
		is reclaimed.
		
		If multiple weak pointers are made to different offsets within same object
		(for example, pointers to different fields of the same struct), those pointers
		will not compare equal.
		If a weak pointer is created from an object that becomes reachable again due
		to a finalizer, that weak pointer will not compare equal with weak pointers
		created before it became unreachable.</span>

		<input type='checkbox' class="fold" id="Pointer-fold-fields"><label for="Pointer-fold-fields">Fields (<i>only one, which is unexported</i>)</label><span id='Pointer-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Pointer-showhide-fields"><i><label for="Pointer-showhide-fields" class="show-inline">/* one unexported ... */</label><label for="Pointer-showhide-fields" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../src/internal/weak/pointer.go.html#line-52">u</a> <i><a href="../unsafe.html">unsafe</a>.<a href="../unsafe.html#name-Pointer">Pointer</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="Pointer-fold-methods"><label for="Pointer-fold-methods">Methods (<i>only one, which is exported</i>)</label><span id='Pointer-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Pointer-fold-method-Strong"><label for="Pointer-fold-method-Strong">( Pointer[T]) <a href="../../src/internal/weak/pointer.go.html#line-73">Strong</a>() *T</label><span id='Pointer-fold-method-Strong-docs' class="fold-docs">
<span class="md-text">				Strong creates a strong pointer from the weak pointer.
				Returns nil if the original value for the weak pointer was reclaimed by
				the garbage collector.
				If a weak pointer points to an object with a finalizer, then Strong will
				return nil as soon as the object's finalizer is queued for execution.</span>
</span></span></span>
		<input type='checkbox' class="fold" id="Pointer-fold-results"><label for="Pointer-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Pointer-fold-results-items' class="fold-items"><span>
			func <a href="#name-Make">Make</a>[T](ptr *T) <b>Pointer</b>[T]</span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 3, in which 1 is exported)</i></span></span>

<div class="anchor value-res" id="name-Make">	<input type='checkbox' class="fold" id="Make-fold-content"><label for="Make-fold-content"> func <a href="../../src/internal/weak/pointer.go.html#line-56">Make</a>[T](ptr *T) <a href="#name-Pointer">Pointer</a>[T]</label><span id='Make-fold-content-docs' class="fold-docs">

		Type Parameters:
			T: <a href="../builtin.html#name-any">any</a>

<span class="md-text">		Make creates a weak pointer from a strong pointer to some value of type T.</span>

</span></div>	<input type='checkbox' class="showhide" id="unexported-functions-showhide"><i><label for="unexported-functions-showhide" class="show-inline">/* 2 unexporteds ... */</label><label for="unexported-functions-showhide" class="hide-inline">/* 2 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-runtime_makeStrongFromWeak"><i>	<span class="nodocs"> func <a href="../../src/internal/weak/pointer.go.html#line-83">runtime_makeStrongFromWeak</a>(<a href="../unsafe.html">unsafe</a>.<a href="../unsafe.html#name-Pointer">Pointer</a>) <a href="../unsafe.html">unsafe</a>.<a href="../unsafe.html#name-Pointer">Pointer</a></span></i></div><div class="anchor value-res hidden" id="name-runtime_registerWeakPointer"><i>	<span class="nodocs"> func <a href="../../src/internal/weak/pointer.go.html#line-80">runtime_registerWeakPointer</a>(<a href="../unsafe.html">unsafe</a>.<a href="../unsafe.html#name-Pointer">Pointer</a>) <a href="../unsafe.html">unsafe</a>.<a href="../unsafe.html#name-Pointer">Pointer</a></span></i></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../png/zigo101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.7.5</i>. (GOOS=windows GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/zigo_101">@zigo_101</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>